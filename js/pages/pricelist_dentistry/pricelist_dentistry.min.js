let url="https://sergey200519-medical-center-backend-flask-06b4.twc1.net/services/dentistry",pricelistBox=document.querySelector(".det"),pricelistCode="";function render(t){for(var[r,s]of Object.entries(t)){var c,o,i=`
            <thead>
                <tr>
                    <th id="keys">Код</th>
                    <th>Название услуги</th>
                    <th>Цена(в руб.)</th>
                </tr>
            </thead>
        `;let e=`
            <tr>
                <th class="sub-title"></th>
                <th scope="rowgroup" headers="keys" class="sub-title">${r}</th>
                <th class="sub-title"></th>
            </tr>
        `;for([c,o]of Object.entries(s))if(1==Object.keys(o).length)e+=`
                    <tr>
                        <td>${c}</td>
                        <th scope="row">${o[Object.keys(o)[0]].service}</th>
                        <td>${o[Object.keys(o)[0]].price}</td>
                    </tr>
                `;else{let t=!0;for(var[l,h]of Object.entries(o))t?(e+=`
                        <tr>
                            <td rowspan="${Object.keys(o).length}">${c}</td>
                            <th scope="row">${h.service}</th>
                            <td>${h.price}</td>
                        </tr>
                    `,t=!1):e+=`
                            <tr>
                                <th scope="row">${h.service}</th>
                                <td>${h.price}</td>
                            </tr>
                        `}i+=e,pricelistCode+=`
            <details>
                <summary>${r}</summary>
                <table class="pricelist-table">
                    ${i}
                </table>
            </details>
        `}pricelistBox.innerHTML=pricelistCode}fetch(url,{method:"GET",headers:{"Content-Type":"application/json"}}).then(t=>{if(t.ok)return t.json();throw new Error("Ошибка запроса")}).then(t=>{console.log(t),render(t)}).catch(t=>{console.log(t)});